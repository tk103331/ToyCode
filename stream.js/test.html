<!DOCTYPE html>
<html>
<head>
    <title>TEST</title>
    <script type="text/javascript" src="stream.js"></script>
    <script type="text/javascript">
        //filter 
        var filter = Stream.of(1,2,3,4,5,6,7,8,9)
            .filter(function(it){
                return it > 5;
            }).collect();
        console.log(filter);
        //peek
        var peek = Stream.of(1,2,3,4,5,6,7,8,9)
            .peek(function(it){
                return it > 5;
            }).collect();
        console.log(peek);
        //map
        var map = Stream.of(1,2,3,4,5,6,7,8,9)
            .map(function(it){
                return it * 2;
            }).collect();
        console.log(map);
        //flatMap
        var flatMap = Stream.of(
            {name:"Name1",children:["AAA","BBB"]},
            {name:"Name2",children:["CCC"]},
            {name:"Name3",children:["DDD"]},
            {name:"Name4",children:["BBB","FFF"]},
            {name:"Name5",children:["AAA"]},
            {name:"Name6",children:["GGG"]}
            ).flatMap(function(it){
                return it.children;
            }).collect();
        console.log(flatMap);
        //sorted
        var sorted = Stream.of(1,2,3,4,5,6,7,8,9)
            .sorted(function(it1,it2){
                return it2 - it1;
            }).collect();
        console.log(sorted);
        //limit
        var limit = Stream.of(1,2,3,4,5,6,7,8,9)
            .filter(function(it){
                return it % 2 == 1;
            })
            .limit(3)
            .collect();
        console.log(limit);
        //skip
        var skip = Stream.of(1,2,3,4,5,6,7,8,9)
            .filter(function(it){
                return it % 2 == 1;
            })
            .skip(3)
            .collect();
        console.log(skip);
        //all
        var all = Stream.of(1,2,3,4,5,6,7,8,9)
            .all(function(it){
                return it > 5;
            });
        console.log(all);
        //any
        var any = Stream.of(1,2,3,4,5,6,7,8,9)
            .any(function(it){
                return it > 5;
            });
        console.log(any);
        //none
        var none = Stream.of(1,2,3,4,5,6,7,8,9)
            .none(function(it){
                return it > 5;
            });
        console.log(none);
        //count
        var count = Stream.of(1,2,3,4,5,6,7,8,9)
            .filter(function(it){
                return it > 5;
            })
            .count();
        console.log(count);
        //reduce
        var reduce = Stream.of(1,2,3,4,5,6,7,8,9)
            .reduce(function(pre,it){
                return pre + it;
            });
        console.log(reduce);
        //group
        var group = Stream.of(
            {name:"Name1",city:"BeiJing"},
            {name:"Name2",city:"ShangHai"},
            {name:"Name3",city:"ShenZhen"},
            {name:"Name4",city:"ShangHai"},
            {name:"Name5",city:"BeiJing"},
            {name:"Name6",city:"BeiJing"}
            ).group(function(it){
                return it.city;
            });
        console.log(group);
        //partition
        var partition = Stream.of(
            {name:"Name1",age:12},
            {name:"Name2",age:25},
            {name:"Name3",age:17},
            {name:"Name4",age:34},
            {name:"Name5",age:19},
            {name:"Name6",age:11}
            ).partition(function(it){
                return it.age > 18;
            });
        console.log(partition);
        //first
        var first = Stream.of(
            {name:"Name1",age:12},
            {name:"Name2",age:25},
            {name:"Name3",age:17},
            {name:"Name4",age:34},
            {name:"Name5",age:19},
            {name:"Name6",age:11}
            ).first(function(it){
                return it.age > 18;
            });
        console.log(first);
        //last
        var last = Stream.of(
            {name:"Name1",age:12},
            {name:"Name2",age:25},
            {name:"Name3",age:17},
            {name:"Name4",age:34},
            {name:"Name5",age:19},
            {name:"Name6",age:11}
            ).last(function(it){
                return it.age > 18;
            });
        console.log(last);
        

    </script>
</head>
<body>

</body>
</html>